import{r as m,D as at,m as ct,q as x,j as s,g as p,S as ot,s as it,f as g,E as B,t as T,I as lt,F as ut,R as h,G as dt,L as $,B as mt}from"./index-D6E3sKCH.js";const z=t=>t?"":void 0,Ft=t=>t?!0:void 0;function ft(t){return m.Children.toArray(t).filter(e=>m.isValidElement(e))}function ht(t,e){return Array.isArray(t)?t.map(n=>n===null?null:e(n)):at(t)?Object.keys(t).reduce((n,r)=>(n[r]=e(t[r]),n),{}):t!=null?e(t):null}function pt(t,e){if(t!=null){if(typeof t=="function"){t(e);return}try{t.current=e}catch{throw new Error(`Cannot assign value '${e}' to ref '${t}'`)}}}function gt(...t){return e=>{t.forEach(n=>{pt(n,e)})}}function yt(...t){return m.useMemo(()=>gt(...t),t)}const[Gt,xt]=ct({strict:!1,name:"ButtonGroupContext"});function N(t){const{children:e,className:n,...r}=t,a=m.isValidElement(e)?m.cloneElement(e,{"aria-hidden":!0,focusable:!1}):e,c=x("chakra-button__icon",n);return s.jsx(p.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...r,className:c,children:a})}N.displayName="ButtonIcon";function A(t){const{label:e,placement:n,spacing:r="0.5rem",children:a=s.jsx(ot,{color:"currentColor",width:"1em",height:"1em"}),className:c,__css:o,...u}=t,i=x("chakra-button__spinner",c),l=n==="start"?"marginEnd":"marginStart",f=m.useMemo(()=>it({display:"flex",alignItems:"center",position:e?"relative":"absolute",[l]:e?r:0,fontSize:"1em",lineHeight:"normal",...o}),[o,e,l,r]);return s.jsx(p.div,{className:i,...u,__css:f,children:a})}A.displayName="ButtonSpinner";function bt(t){const[e,n]=m.useState(!t);return{ref:m.useCallback(c=>{c&&n(c.tagName==="BUTTON")},[]),type:e?"button":void 0}}const J=g((t,e)=>{const n=xt(),r=B("Button",{...n,...t}),{isDisabled:a=n?.isDisabled,isLoading:c,isActive:o,children:u,leftIcon:i,rightIcon:l,loadingText:f,iconSpacing:d="0.5rem",type:S,spinner:y,spinnerPlacement:v="start",className:b,as:C,shouldWrapChildren:D,...W}=T(t),P=m.useMemo(()=>{const M={...r?._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...r,...!!n&&{_focus:M}}},[r,n]),{ref:j,type:_}=bt(C),w={rightIcon:l,leftIcon:i,iconSpacing:d,children:u,shouldWrapChildren:D};return s.jsxs(p.button,{disabled:a||c,ref:yt(e,j),as:C,type:S??_,"data-active":z(o),"data-loading":z(c),__css:P,className:x("chakra-button",b),...W,children:[c&&v==="start"&&s.jsx(A,{className:"chakra-button__spinner--start",label:f,placement:"start",spacing:d,children:y}),c?f||s.jsx(p.span,{opacity:0,children:s.jsx(F,{...w})}):s.jsx(F,{...w}),c&&v==="end"&&s.jsx(A,{className:"chakra-button__spinner--end",label:f,placement:"end",spacing:d,children:y})]})});J.displayName="Button";function F(t){const{leftIcon:e,rightIcon:n,children:r,iconSpacing:a,shouldWrapChildren:c}=t;return c?s.jsxs("span",{style:{display:"contents"},children:[e&&s.jsx(N,{marginEnd:a,children:e}),r,n&&s.jsx(N,{marginStart:a,children:n})]}):s.jsxs(s.Fragment,{children:[e&&s.jsx(N,{marginEnd:a,children:e}),r,n&&s.jsx(N,{marginStart:a,children:n})]})}const K=g(function(e,n){const{className:r,centerContent:a,...c}=T(e),o=B("Container",e);return s.jsx(p.div,{ref:n,className:x("chakra-container",r),...c,__css:{...o,...a&&{display:"flex",flexDirection:"column",alignItems:"center"}}})});K.displayName="Container";const Q=g(function(e,n){const{direction:r,align:a,justify:c,wrap:o,basis:u,grow:i,shrink:l,...f}=e,d={display:"flex",flexDirection:r,alignItems:a,justifyContent:c,flexWrap:o,flexBasis:u,flexGrow:i,flexShrink:l};return s.jsx(p.div,{ref:n,__css:d,...f})});Q.displayName="Flex";function jt(t){const{viewBox:e="0 0 24 24",d:n,displayName:r,defaultProps:a={}}=t,c=m.Children.toArray(t.path),o=g((u,i)=>s.jsx(lt,{ref:i,viewBox:e,...a,...u,children:c.length?c:s.jsx("path",{fill:"currentColor",d:n})}));return o.displayName=r,o}const X=t=>s.jsx(p.div,{className:"chakra-stack__item",...t,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...t.__css}});X.displayName="StackItem";function St(t){const{spacing:e,direction:n}=t,r={column:{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":ht(n,a=>r[a])}}const L=g((t,e)=>{const{isInline:n,direction:r,align:a,justify:c,spacing:o="0.5rem",wrap:u,children:i,divider:l,className:f,shouldWrapChildren:d,...S}=t,y=n?"row":r??"column",v=m.useMemo(()=>St({spacing:o,direction:y}),[o,y]),b=!!l,C=!d&&!b,D=m.useMemo(()=>{const P=ft(i);return C?P:P.map((j,_)=>{const w=typeof j.key<"u"?j.key:_,M=_+1===P.length,R=d?s.jsx(X,{children:j},w):j;if(!b)return R;const rt=m.cloneElement(l,{__css:v}),st=M?null:rt;return s.jsxs(m.Fragment,{children:[R,st]},w)})},[l,v,b,C,d,i]),W=x("chakra-stack",f);return s.jsx(p.div,{ref:e,display:"flex",alignItems:a,justifyContent:c,flexDirection:y,flexWrap:u,gap:b?void 0:o,className:W,...S,children:D})});L.displayName="Stack";const Y=g((t,e)=>s.jsx(L,{align:"center",...t,direction:"row",ref:e}));Y.displayName="HStack";const vt=g((t,e)=>s.jsx(L,{align:"center",...t,direction:"column",ref:e}));vt.displayName="VStack";const Ct=g(function(e,n){const r=B("Heading",e),{className:a,...c}=T(e);return s.jsx(p.h2,{ref:n,className:x("chakra-heading",e.className),...c,__css:r})});Ct.displayName="Heading";const Z=g(function(e,n){const r=B("Text",e),{className:a,align:c,decoration:o,casing:u,...i}=T(e),l=ut({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return s.jsx(p.p,{ref:n,className:x("chakra-text",e.className),...l,...i,__css:r})});Z.displayName="Text";const Pt=jt({displayName:"PlusSquareIcon",path:s.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",children:[s.jsx("rect",{height:"18",width:"18",rx:"2",ry:"2",x:"3",y:"3"}),s.jsx("path",{d:"M12 8v8"}),s.jsx("path",{d:"M8 12h8"})]})});var tt={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},G=h.createContext&&h.createContext(tt),wt=["attr","size","title"];function Nt(t,e){if(t==null)return{};var n=_t(t,e),r,a;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(a=0;a<c.length;a++)r=c[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _t(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function k(){return k=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k.apply(this,arguments)}function H(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H(Object(n),!0).forEach(function(r){Et(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Et(t,e,n){return e=Ot(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ot(t){var e=kt(t,"string");return typeof e=="symbol"?e:e+""}function kt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function et(t){return t&&t.map((e,n)=>h.createElement(e.tag,I({key:n},e.attr),et(e.child)))}function nt(t){return e=>h.createElement(It,k({attr:I({},t.attr)},e),et(t.child))}function It(t){var e=n=>{var{attr:r,size:a,title:c}=t,o=Nt(t,wt),u=a||n.size||"1em",i;return n.className&&(i=n.className),t.className&&(i=(i?i+" ":"")+t.className),h.createElement("svg",k({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:i,style:I(I({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),c&&h.createElement("title",null,c),t.children)};return G!==void 0?h.createElement(G.Consumer,null,n=>e(n)):e(tt)}function Bt(t){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M264 480A232 232 0 0 1 32 248c0-94 54-178.28 137.61-214.67a16 16 0 0 1 21.06 21.06C181.07 76.43 176 104.66 176 136c0 110.28 89.72 200 200 200 31.34 0 59.57-5.07 81.61-14.67a16 16 0 0 1 21.06 21.06C442.28 426 358 480 264 480z"},child:[]}]})(t)}function Tt(t){return nt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"4"},child:[]},{tag:"path",attr:{d:"M12 2v2"},child:[]},{tag:"path",attr:{d:"M12 20v2"},child:[]},{tag:"path",attr:{d:"m4.93 4.93 1.41 1.41"},child:[]},{tag:"path",attr:{d:"m17.66 17.66 1.41 1.41"},child:[]},{tag:"path",attr:{d:"M2 12h2"},child:[]},{tag:"path",attr:{d:"M20 12h2"},child:[]},{tag:"path",attr:{d:"m6.34 17.66-1.41 1.41"},child:[]},{tag:"path",attr:{d:"m19.07 4.93-1.41 1.41"},child:[]}]})(t)}function U({btnText:t,btnIcon:e,onClickHandler:n,width:r,btnColor:a}){return s.jsx(J,{w:r,onClick:n,colorScheme:a,children:t||e})}function Dt(){const{colorMode:t,toggleColorMode:e}=dt();return s.jsx(K,{maxW:"container.lg",px:4,children:s.jsxs(Q,{alignItems:"center",justifyContent:"space-between",flexDir:{base:"column",sm:"row"},p:4,children:[s.jsx(Z,{fontSize:{base:"22",sm:"28"},fontWeight:"bold",textTransform:"uppercase",textAlign:"center",bgClip:"text",bgGradient:"linear(to-r, cyan.400, blue.500 )",children:s.jsx($,{to:"/",children:"Product Store ðŸ›’"})}),s.jsxs(Y,{spacing:2,alignItems:"center",children:[s.jsx($,{to:"/create",children:s.jsx(U,{btnIcon:s.jsx(Pt,{})})}),s.jsx(U,{onClickHandler:e,btnIcon:t==="light"?s.jsx(Bt,{size:"20"}):s.jsx(Tt,{size:"20"})})]})]})})}const V=t=>{let e;const n=new Set,r=(l,f)=>{const d=typeof l=="function"?l(e):l;if(!Object.is(d,e)){const S=e;e=f??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(y=>y(e,S))}},a=()=>e,u={setState:r,getState:a,getInitialState:()=>i,subscribe:l=>(n.add(l),()=>n.delete(l))},i=e=t(r,a,u);return u},Wt=(t=>t?V(t):V),Mt=t=>t;function At(t,e=Mt){const n=h.useSyncExternalStore(t.subscribe,h.useCallback(()=>e(t.getState()),[t,e]),h.useCallback(()=>e(t.getInitialState()),[t,e]));return h.useDebugValue(n),n}const q=t=>{const e=Wt(t),n=r=>At(e,r);return Object.assign(n,e),n},Lt=(t=>t?q(t):q),E="/api/v1",Rt={Product:{CREATE:`${E}/products`,GET:`${E}/products`,UPDATE:t=>`${E}/products/${t}`,DELETE:t=>`${E}/products/${t}`}},{Product:O}=Rt,Ht=Lt(t=>({products:[],setProducts:e=>t({products:e}),createProducts:async e=>{if(!e.name||!e.price||!e.image)return{success:!1,message:"All Fields are Required"};try{const r=await(await fetch(O.CREATE,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();return t(a=>({products:[...a.products,r.newProduct]})),{success:!0,message:"Product Created Successfully"}}catch(n){console.error(`Error while Creating Product ${n.message}`)}},fetchProducts:async()=>{try{const n=await(await fetch(O.GET)).json();return t({products:n?.products||[]}),{success:!0,message:n?.products.length>0?"Product Fetch Successfully":"No Products Found"}}catch(e){console.error(`Error While Fetching Product ${e.message}`)}},updateProducts:async(e,n)=>{try{const a=await(await fetch(O.UPDATE(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json();return a.success?(t(c=>({products:c.products.map(o=>o._id===e?a.updatedProduct:o)})),{success:!0,message:"Product Updated Successfully"}):{success:!1,message:a.message}}catch(r){console.error(`Error While Updating Product ${r.message}`)}},deleteProduct:async e=>{try{const r=await(await fetch(O.DELETE(e),{method:"DELETE"})).json();return r.success?(t(a=>({products:a.products.filter(c=>c._id!==e)})),{success:!0,message:"Product Deleted Successfully"}):{success:!1,message:r.message}}catch(n){console.error(`Error While Deleting Product ${n.message}`)}}}));function Ut({children:t}){return s.jsxs(mt,{children:[s.jsx(Dt,{}),t]})}export{U as B,K as C,Ct as H,Ut as M,Z as T,vt as V,J as a,gt as b,jt as c,Y as d,z as e,Ft as f,ht as m,Ht as u};
